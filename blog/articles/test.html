<!DOCTYPE html>
<html>
    <head>
        <title>test</title>
        <script src="../js/marked.min.js"></script>
        <script src="../js/highlight.js"></script>
        <script>
            MathJax = {
                tex: {
                    inlineMath: [['$', '$'], ['\\(', '\\)']],
                    displayMath: [['$$', '$$'], ['\\[', '\\]']],
                    processEscapes: true,
                    processEnvironments: true,
                },
            };
        </script>
        <script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </head>
    <body>
        <div id="main"></div>
        <script>
            function write(dat){
                hljs.highlightAll();
                marked.setOptions({
                    highlight: function(code,lang){
                        return hljs.highlight(code,{language: lang}).value;
                    }
                })
                document.getElementById('main').innerHTML=marked(dat);
            }
            fetch('../data/test.md')
                .then(res => res.text())
                .then(dat => write(dat))
                .catch(err => console.error('Error:', err));
        </script>
    </body>
</html>